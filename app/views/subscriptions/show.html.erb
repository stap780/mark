<%= render 'shared/offcanvas_inner', title: t('subscriptions.subscription_details'), width: '30rem' do %>
<div class="space-y-4">
  <div>
    <strong><%= t('subscriptions.plan') %>:</strong>
    <span><%= @subscription.plan&.name || t('subscriptions.not_available') %></span>
  </div>
  <div>
    <strong><%= t('subscriptions.status') %>:</strong>
    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
      <%= @subscription.status == 'active' ? 'bg-green-100 text-green-800' : 
          @subscription.status == 'trialing' ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-800' %>">
      <%= @subscription.status.humanize %>
    </span>
  </div>
  <div>
    <strong><%= t('subscriptions.created_at') %>:</strong>
    <span><%= @subscription.created_at.strftime("%d.%m.%Y %H:%M") %></span>
  </div>
  <div>
    <strong><%= t('subscriptions.period') %>:</strong>
    <% if @subscription.current_period_start && @subscription.current_period_end %>
      <span>
        <%= @subscription.current_period_start.strftime("%d.%m.%Y") %> - 
        <%= @subscription.current_period_end.strftime("%d.%m.%Y") %>
      </span>
    <% else %>
      <span><%= t('subscriptions.not_available') %></span>
    <% end %>
  </div>
  
  <% if @subscription.status == 'incomplete' && @subscription.payments.pending.empty? %>
    <div class="pt-4 border-t">
      <%= link_to_new new_account_subscription_payment_path(current_account, @subscription), 
            text: t('subscriptions.pay_subscription'), 
            data: { turbo_frame: :offcanvas },
            class: "inline-flex items-center px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700" %>
    </div>
  <% end %>
</div>

<% end %>