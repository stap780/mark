<% content_for :title, "Lists" %>
<%= turbo_stream_from [current_account, :lists] %>

<div class="w-full">
  <div class="flex items-center justify-between mb-4">
    <h1 class="text-xl font-semibold">Lists</h1>
    <%= link_to "New", new_account_list_path(current_account),
          data: { turbo_frame: :offcanvas },
          class: "inline-flex items-center px-3 py-1 bg-violet-600 text-white rounded-md hover:bg-violet-700" %>
  </div>

  <div class="bg-white rounded-lg shadow divide-y">
    <div class="grid grid-cols-5 gap-4 p-4 font-medium text-gray-700">
      <div>Name</div>
      <div>Items</div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <%= turbo_frame_tag dom_id(current_account, :lists) do %>
      <%= render @lists %>
    <% end %>
  </div>
  <% if @lists.any? %>
    <div class="mt-6">
    <strong class="block font-medium mb-1">Embed snippet:</strong>
    <pre class="bg-gray-100 p-2 rounded text-xs overflow-x-auto"><code>&lt;script type="text/javascript"&gt;
(function(){
  var scr=document.createElement('script');
  scr.setAttribute('type','text/javascript');
  scr.setAttribute('src','https://s3.twcstorage.ru/ae4cd7ee-b62e0601-19d6-483e-bbf1-416b386e5c23/scripts/list.js?id=<%= current_account.id %>');
  document.getElementsByTagName('head')[0].appendChild(scr);
})();
&lt;/script&gt;</code></pre>
  </div>
  <% end %>
</div>
