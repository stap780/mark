<div class="inline-flex items-center gap-4">
  <%= link_to t('back'), account_webforms_path(current_account),
      class: "inline-flex items-center px-3 py-1 bg-white text-violet-600 border border-violet-500 rounded-md hover:bg-violet-50",
      data: { turbo: false } %>
  <%= tag.div @webform.title, class: "text-lg font-semibold" %>
</div>

<div class="grid grid-cols-1 lg:grid-cols-5 gap-4">

  <div class="space-y-4 lg:col-span-2">
    <% app_type = current_account.settings.dig("apps")&.find { |app| app.start_with?('ins') } %>
    <%= turbo_frame_tag dom_id(current_account, :webform_settings), class: "flex items-center justify-between gap-4 p-4 bg-white rounded-lg shadow mt-4" do %>
      <h2 class="text-lg font-semibold mb-3"><%= t('.webform') %></h2>
      <div class="flex items-center justify-end gap-2">
        <% unless app_type == 'insnotify' %>
          <%= link_to_edit edit_account_webform_path(current_account, @webform),
          data: { turbo_frame: :offcanvas, turbo_prefetch: false }, title: t('.edit') %>
        <% end %>
        <%= link_to_show design_account_webform_path(current_account, @webform),
        data: { turbo_frame: :offcanvas, turbo_prefetch: false }, title: t('.design') %>
      </div>
    <% end %>
    
    <%= render 'show_fields_list', webform: @webform %>
  </div>

  <div class="bg-white rounded-lg shadow p-4 lg:col-span-3">
    <h2 class="text-lg font-semibold mb-3"><%= t('.preview') %></h2>
    <%= turbo_frame_tag dom_id(current_account, dom_id(@webform, :preview)), class: "p-4" do %>
      <%= render 'preview', schema: @schema %>
    <% end %>
  </div>

</div>