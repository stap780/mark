<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-bold"><%= t('admin.payments.payments') %></h1>
  <div class="flex space-x-2">
    <%= search_form_for @search, url: admin_payments_path, method: :get, html: { class: "flex items-center space-x-2" } do |f| %>
      <div>
        <%= f.label :status_eq, t('admin.payments.status'), class: "sr-only" %>
        <%= f.select :status_eq, 
            options_for_select(Payment.statuses.map { |key, value| [key.humanize, value] }, params.dig(:q, :status_eq)), 
            { include_blank: t('admin.payments.any') }, 
            { class: "px-2 py-1 border rounded" } %>
      </div>
      <div>
        <%= f.label :processor_eq, t('admin.payments.processor'), class: "sr-only" %>
        <%= f.select :processor_eq, 
            options_for_select(Payment.processors.map { |key, value| [key.humanize, value] }, params.dig(:q, :processor_eq)), 
            { include_blank: t('admin.payments.any') }, 
            { class: "px-2 py-1 border rounded" } %>
      </div>
      <div>
        <%= f.label :subscription_account_id_eq, t('admin.payments.account_id'), class: "sr-only" %>
        <%= f.number_field :subscription_account_id_eq, placeholder: t('admin.payments.account_id'), class: "px-2 py-1 border rounded", style: "width: 140px;" %>
      </div>
      <%= f.submit t('admin.payments.filter'), class: "px-3 py-1 bg-gray-200 rounded hover:bg-gray-300" %>
      <%= link_to admin_payments_path, class: "px-3 py-1 bg-gray-100 rounded hover:bg-gray-200", title: t('admin.payments.clear') do %>
        <%= t('admin.payments.clear') %>
      <% end %>
    <% end %>
  </div>
</div>

<div class="bg-white rounded-lg shadow divide-y">
  <div class="grid grid-cols-[80px_1fr_1fr_1fr_1fr_1fr_1fr_120px] gap-4 p-4 font-medium text-gray-700">
    <div><%= t('admin.payments.number') %></div>
    <div><%= t('admin.payments.date') %></div>
    <div><%= t('admin.payments.account') %></div>
    <div><%= t('admin.payments.plan') %></div>
    <div><%= t('admin.payments.amount') %></div>
    <div><%= t('admin.payments.processor') %></div>
    <div><%= t('admin.payments.status_column') %></div>
    <div></div>
  </div>
  <%= turbo_frame_tag :admin_payments do %>
    <%= render @payments %>
    <%= render "shared/paginate", f: @payments %>
  <% end %>
  
</div>
