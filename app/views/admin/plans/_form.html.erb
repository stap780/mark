<%= form_with model: [:admin, plan], 
              data: { turbo_frame: plan.persisted? ? dom_id(plan, :form) : :plan_form },
              class: "space-y-6" do |form| %>

  <%= render "shared/errors", object: form.object if form.object&.errors&.any? %>

  <div>
    <%= form.label :name, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.text_field :name, 
          class: "block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-500 focus:ring-violet-500 px-3 py-2" %>
  </div>

  <div>
    <%= form.label :price, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.number_field :price, 
          class: "block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-500 focus:ring-violet-500 px-3 py-2",
          min: 0, step: 1 %>
  </div>

  <div>
    <%= form.label :interval, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.select :interval, Plan.intervals.keys.map { |i| [i.humanize, i] },
          { class: "block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-500 focus:ring-violet-500 px-3 py-2" } %>
  </div>

  <div>
    <%= form.label :trial_days, class: "block text-sm font-medium text-gray-700 mb-2" %>
    <%= form.number_field :trial_days, 
          class: "block w-full rounded-md border-gray-300 shadow-sm focus:border-violet-500 focus:ring-violet-500 px-3 py-2",
          min: 0, step: 1 %>
  </div>

  <div>
    <%= form.label :active, class: "flex items-center" do %>
      <%= form.check_box :active, 
            class: "h-4 w-4 text-violet-600 focus:ring-violet-500 border-gray-300 rounded" %>
      <span class="ml-2 text-sm text-gray-700"><%= t('admin.plans.active') %></span>
    <% end %>
  </div>

  <div class="flex justify-start space-x-3 pt-4">
    <%= form.submit plan.persisted? ? t('admin.plans.update_plan') : t('admin.plans.create_plan'),
          class: "inline-flex items-center px-4 py-2 bg-violet-600 text-white rounded-md hover:bg-violet-700 font-medium" %>
  </div>
<% end %>

